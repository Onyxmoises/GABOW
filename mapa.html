<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/style.css">

    <!--FONT AWESOME-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <!--GOOGLE FONTS-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Play&display=swap" rel="stylesheet">

    <!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.14.0.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script> -->

    <title>GABOW</title>
</head>
<body>
    <div class="contenido">
        <div class="menu">
            <div class="hero">
                <nav class="nav container" id="nav">
                    <h2 class="nav-logo">GABOW</h2>
                    <ul class="nav-links">
                        <li class="nav-item">
                            <a href="index.html" class="nav-link">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a href="mapa.html" class="nav-link">Mapas</a>
                        </li>
                        <li class="nav-item">
                            <a href="ruta.html" class="nav-link">Ruta</a>
                        </li>
                        <li class="nav-item">
                            <a href="favoritos.html" class="nav-link">Favoritos</a>
                        </li>
                        <li class="nav-item">
                            <a href="registro.html" class="nav-link">Iniciar Sesion</a>
                        </li>
                    </ul>
                    <a href="#nav" class="nav-ham">
                        <img src="./assets/menu.svg" class="nav-icon">
                    </a>
                    <a href="#" class="nav-close">
                        <img src="./assets/close.svg" class="nav-icon">
                    </a>
                </nav>
                <div class="containerMap">
                    <div style="width: 700px;">
                        <div class="inputDiv">
                            <input list="aulas" id="search" placeholder="Buscar...">
                            <button class="searchButton">Buscar</button>
                        </div>
                        <div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
                    <script>
                        var data = [
                            {
                                type: "scattermapbox",
                                text: "CECyT9",
                                lon: [-99.1755475346185],
                                lat: [19.453541614839263],
                                marker: { color: "lime", size: 30 }
                            },
                            {
                                //19.50353658790755, -99.20293583642929  19.44608712687418, -99.14333273147834  19.472819274952897, -99.13332626085025
                                type: "scattermapbox",
                                text: "Town Center",
                                lon: [-99.20293583642929],
                                lat: [19.50353658790755],
                                marker: { color: "lime", size: 30}
                            }
                        ];

                        var layout = {
                            dragmode: "zoom",
                            mapbox: { style: "open-street-map", center: { lat: 19.472819274952897 , lon: -99.14333273147834 }, zoom: 10 },
                            margin: { r: 0, t: 0, b: 0, l: 0 }
                        };

                        Plotly.newPlot("myDiv", data, layout);

                        var myPlot = document.getElementById('myDiv');

                        document.getElementsByClassName("user-select-none svg-container")[0].removeChild(document.getElementsByClassName('main-svg')[1]);

                        


                        myPlot.on('plotly_click',function(Lugar){
                            console.log(Lugar.points[0].data.text)
                            var latitudLugar = Lugar.points[0].data.lat;
                            var longitudLugar = Lugar.points[0].data.lon;
                            document.getElementById("btn").click();
                            /*
                            layout.mapbox.center.lat = latitudLugar[0];
                            layout.mapbox.center.lon = longitudLugar[0];
                            layout.mapbox.zoom=13;
                            var newLayout = {

                                dragmode: "zoom",
                                mapbox: { style: "open-street-map", center: { lat: latitudLugar[0] , lon: longitudLugar[0] }, zoom: 10 },
                                margin: { r: 0, t: 0, b: 0, l: 0 }

                            }
                            */
                            
                            Plotly.relayout("myDiv", {mapbox : { style: "open-street-map", center: { lat: latitudLugar[0] , lon: longitudLugar[0] }, zoom: 15 }});
                        
                            

                        });

                    </script>
                    <style>
                        .mapboxgl-map{
                            width: 700px !important; 
                        }
                        .inputDiv{
                                width: 100%;
                                display: inline-flex;
                                justify-content: center;
                                margin-bottom: 20px;
                        }
                        input{
                                width: 85%;
                                font-size: 20px;
                        }
                    </style>
                    <!-- <div class="offcanvas offcanvas-start" id="demo">
                        <div class="offcanvas-header">
                        <h1 class="offcanvas-title">Heading</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
                        </div>
                        <div class="offcanvas-body">
                        <p>Some text lorem ipsum.</p>
                        <p>Some text lorem ipsum.</p>
                        <p>Some text lorem ipsum.</p>
                        <button class="btn btn-secondary" type="button">A Button</button>
                        </div>
                    </div> -->

                        <!-- <button style="visibility: hidden;" id="btn" class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#demo">
                            Open Offcanvas Sidebar
                        </button> -->
                    </div>
                </div>
                <div class="pies">
            <footer>
                <div class="footer">
                    <div class="row">
                        <a target="_blank" href="prox.html"><i class="fa fa-facebook"></i></a>
                        <a target="_blank" href="prox.html"><i class="fa fa-instagram"></i></a>
                        <a target="_blank" href="prox.html"><i class="fa fa-twitter"></i></a>
                    </div>
        
                    <div class="row">
                        <ul>
                            <li><a href="contacto.html">Contactanos</a></li>
                            <li><a href="terminos.html">Terminos y Condiciones</a></li>
                        </ul>
                    </div>        
                    <div class="row">
                        GABOW Copyright Â© 2022 - All rights reserved || Designed By: Moises
                    </div>
                </div>
            </footer>
                </div>
            </div>
        </div>
        <div class="animacion">
            <div class="bg"></div>
            <div class="bg bg2"></div>
            <div class="bg bg3"></div>
            <!-- <div class="animation-area">
                <ul class="box-area">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
            </div> -->
        </div>
    </div>
</body>
</html>